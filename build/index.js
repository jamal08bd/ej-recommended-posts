!function(){"use strict";var e,t={280:function(){var e=window.wp.blocks,t=window.wp.element,r=window.wp.i18n,n=window.wp.blockEditor,d=window.wp.date,o=window.wp.data,a=window.wp.components,l=JSON.parse('{"u2":"ej-blocks/ej-recommended-posts"}');(0,e.registerBlockType)(l.u2,{edit:function(e){let{attributes:l,setAttributes:s}=e;const{displayFeaturedImage:m,selectedPostIds:c}=l,i=(0,o.useSelect)((e=>e("core").getEntityRecords("postType","post",{_embed:!0,include:c,orderby:"include"})),[c]),p=(0,o.useSelect)((e=>e("core").getEntityRecords("postType","post",{per_page:-1})),[]);let u=[],_=[];return p&&(u=p.map((e=>e.title.rendered)),_=c.map((e=>{const t=p.find((t=>t.id===e));return!(void 0===t||!t)&&t.title.rendered}))),(0,t.createElement)(t.Fragment,null,(0,t.createElement)(n.InspectorControls,null,(0,t.createElement)(a.PanelBody,null,(0,t.createElement)(a.ToggleControl,{label:(0,r.__)("Display featured image","ej-recommended-posts"),checked:m,onChange:e=>{s({displayFeaturedImage:e})}}),(0,t.createElement)(a.FormTokenField,{label:(0,r.__)("Type and select posts","ej-recommended-posts"),value:_,suggestions:u,onChange:e=>{let t=[];t=e.map((e=>{const t=p.find((t=>t.title.rendered===e));return!(void 0===t||!t)&&t.id})),s({selectedPostIds:t})}}))),(0,t.createElement)("div",(0,n.useBlockProps)(),i&&i.map((e=>{const n=e._embedded&&e._embedded["wp:featuredmedia"]&&e._embedded["wp:featuredmedia"].length>0&&e._embedded["wp:featuredmedia"][0],o=e._embedded&&e._embedded["wp:term"]&&e._embedded["wp:term"].length>0&&e._embedded["wp:term"][0][0];return(0,t.createElement)("div",{key:e.id,className:"wp-block-ej-blocks-ej-recommended-posts__item"},m&&n&&(0,t.createElement)("a",{href:e.link,className:"wp-block-ej-blocks-ej-recommended-posts__item-image"},(0,t.createElement)("img",{src:n.media_details.sizes.large?n.media_details.sizes.large.source_url:n.media_details.sizes.full.source_url,alt:n.alt_text})),(0,t.createElement)("div",{className:"wp-block-ej-blocks-ej-recommended-posts__item-title"},(0,t.createElement)("a",{href:e.link},e.title.rendered?(0,t.createElement)(t.RawHTML,null,e.title.rendered):(0,r.__)("(No title)","ej-recommended-posts"))),e.date_gmt&&(0,t.createElement)("time",{dateTime:(0,d.format)("c",e.date_gmt)},(0,d.dateI18n)((0,d.getSettings)().formats.date,e.date_gmt)),(0,t.createElement)("div",{className:"wp-block-ej-blocks-ej-recommended-posts__item-meta"},o&&(0,t.createElement)("div",{className:"wp-block-ej-blocks-ej-recommended-posts__item-meta-cat"},(0,t.createElement)("a",{href:o.link},o.name)),(0,t.createElement)("hr",null),(0,t.createElement)("a",{href:e.link,className:"wp-block-ej-blocks-ej-recommended-posts__item-readmore"},(0,t.createElement)("span",{className:"ej-readmore"},(0,r.__)("Read more","ej-recommended-posts")),(0,t.createElement)("span",{className:"ej-readmore-icon","aria-hidden":"true"}))))}))))},save:function(){return null}})}},r={};function n(e){var d=r[e];if(void 0!==d)return d.exports;var o=r[e]={exports:{}};return t[e](o,o.exports,n),o.exports}n.m=t,e=[],n.O=function(t,r,d,o){if(!r){var a=1/0;for(c=0;c<e.length;c++){r=e[c][0],d=e[c][1],o=e[c][2];for(var l=!0,s=0;s<r.length;s++)(!1&o||a>=o)&&Object.keys(n.O).every((function(e){return n.O[e](r[s])}))?r.splice(s--,1):(l=!1,o<a&&(a=o));if(l){e.splice(c--,1);var m=d();void 0!==m&&(t=m)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[r,d,o]},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={826:0,431:0};n.O.j=function(t){return 0===e[t]};var t=function(t,r){var d,o,a=r[0],l=r[1],s=r[2],m=0;if(a.some((function(t){return 0!==e[t]}))){for(d in l)n.o(l,d)&&(n.m[d]=l[d]);if(s)var c=s(n)}for(t&&t(r);m<a.length;m++)o=a[m],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(c)},r=self.webpackChunkej_recommended_posts=self.webpackChunkej_recommended_posts||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var d=n.O(void 0,[431],(function(){return n(280)}));d=n.O(d)}();